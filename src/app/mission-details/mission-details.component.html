<section class="page-users-view">
    <div class="row">
        <div class="col-lg-3 col-sm-6 col-12">
            <div class="card">
                <div class="card-header d-flex align-items-start pb-0">
                    <div>
                        <h2 class="text-bold-700 mb-0">{{order[0].Client.Criteria[0].nom_reseau}}-{{order[0].id}}</h2>
                        <p>N° Mission</p>
                     </div>
                    <div class="avatar bg-rgba-primary p-50 m-0">
                        <div class="avatar-content">
                            <i class="feather icon-user text-primary font-medium-5"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6 col-12">
            <div class="card">
                <div class="card-header d-flex align-items-start pb-0">
                    <div>

                      
                        <h2 class="text-bold-700 mb-0">{{order[0].nbr_rdv }}</h2>
                        <p>Nbr Total Rdv</p>
                    </div>
                    <div class="avatar bg-rgba-success p-50 m-0">
                        <div class="avatar-content">
                            <i class="feather icon-calendar text-success font-medium-5"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6 col-12">
            <div class="card">
                <div class="card-header d-flex align-items-start pb-0">
                    <div>
                       
                        <h2 class="text-bold-700 mb-0">{{order[0].nbr_rdv_prises }}</h2>
                        <p>Rdvs pris</p>
                    </div>
                    <div class="avatar bg-rgba-danger p-50 m-0">
                        <div class="avatar-content">
                            <i class="feather icon-calendar text-danger font-medium-5"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6 col-12">
            <div class="card">
                <div class="card-header d-flex align-items-start pb-0">
                    <div>
                        <h2 class="text-bold-700 mb-0">{{order[0].nbr_rdv- order[0].nbr_rdv_prises }}</h2>
                        <p> Rdvs à produire</p>
                    </div>
                    <div class="avatar bg-rgba-warning p-50 m-0">
                        <div class="avatar-content">
                            <i class="feather icon-calendar text-warning font-medium-5"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- account start -->
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <div class="card-title mb-2">Critères de recherche</div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="users-view-image">
                            <img src="https://cdn3.iconfinder.com/data/icons/avatars-round-flat/33/avat-01-512.png" style="width: 100px !important;"  class="users-avatar-shadow w-100 rounded mb-2 pr-2 ml-1" alt="avatar">
                        </div>
                        <div class="col-12 col-sm-9 col-md-6 col-lg-5">
                            <table>
                                <tbody><tr>
                                    <td class="font-weight-bold">Nom du réseau : </td>
                                    <td>{{order[0].Client.Criteria[0].nom_reseau}}</td>
                                </tr> 
                                <tr>
                                    <td class="font-weight-bold">Codes postaux:  </td>
                                    <td>{{order[0].Client.Criteria[0].codepostaux}}</td>
                                </tr>
                                <tr>
                                    <td class="font-weight-bold">Fourchette de prix maximal:  </td>
                                    <td>{{order[0].Client.Criteria[0].fourchettedeprixmaximal}}</td>
                                </tr>
                                <tr>
                                    <td class="font-weight-bold">Fourchette de prix minimal:  </td>
                                    <td>{{order[0].Client.Criteria[0].fourchettedeprixminimal}}</td>
                                </tr>
                                <tr>
                                    <td class="font-weight-bold">Types de bien:  </td>
                                    <td>{{order[0].Client.Criteria[0].typesdebien}}</td>
                                </tr>
                                
                            </tbody></table>
                        </div>
                        <div class="col-12 col-md-12 col-lg-5">
                            <table class="ml-0 ml-sm-0 ml-lg-0">
                                <tbody>
                                    <tr>
                                    <td class="font-weight-bold">Heure du premier rdv:  </td>
                                    <td>{{order[0].Client.Criteria[0].heure_premier_rdv}}</td>
                                </tr>
                                <tr>
                                    <td class="font-weight-bold">Heure du  dernier rdv:  </td>
                                    <td>{{order[0].Client.Criteria[0].heure_dernier_rdv}}</td>
                                </tr>
                                <tr>
                                    <td class="font-weight-bold">Nbr RDV par semaine:  </td>
                                    <td>{{order[0].Client.Criteria[0].heure_dernier_rdv}}</td>
                                </tr>
                            
                            </tbody></table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
     
    </div>
    <div class="row match-height" [ngStyle]="{'display':showFormRefus === true ? 'block' : 'none' }">
        <div class="col-md-6 col-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Refus Client</h4>
                </div>
                <div class="card-content">
                    <div class="card-body">
                        <form class="form form-horizontal" #myform_Refu="ngForm" >
                            <div class="form-body">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label for="first-name-vertical">Motif de refus</label>
                                            <select class="form-control"
                                            name="motif_refus"
                                            ngModel  
                                            required 
                                            >
                                                <option [value]="motif['motif']" 
                                                    *ngFor="let motif of motifRefusList">
                                                   
                                                    {{motif['motif']}}
                                                  </option>

           
                                            </select>

                                       
                                        </div>
                                    </div>
                                 
                                    <div class="col-md-8 offset-md-4">
                                        <button  [disabled]="myform_Refu.invalid" (click)="add_call(myform_Refu,order[0].id,'refus')" type="submit" class="btn btn-primary mr-1 mb-1 waves-effect waves-light">Valider</button>
                                        <button (click)="hideForm()" class="btn btn-outline-warning mr-1 mb-1 waves-effect waves-light">Annuler</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    
    </div>

    <div class="row match-height" >

        <div class="col-md-6 col-12" [ngStyle]="{'display':showFormRappel === true ? 'block' : 'none' }" >
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Rappel ou répondeur</h4>
                </div>
                <div class="card-content">
                    <div class="card-body">
                            <form class="form form-horizontal" #myform_rappel="ngForm" >
                            <div class="form-body">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label for="first-name-vertical">Motif de rappel</label>
                                            <select class="form-control"
                                            name="motif_refus"
                                            ngModel  
                                            required 
                                            >
                                                <option [value]="motif['motif']" 
                                                    *ngFor="let motif of motifRefusList">
                                                   
                                                    {{motif['motif']}}
                                                  </option>

                                            </select>

                                            <dp-date-picker #dayPicker></dp-date-picker>
                                        </div>
                                    </div>
                                 
                                    <div class="col-md-8 offset-md-4">
                                        <button  [disabled]="myform_rappel.invalid" (click)="add_call(myform_rappel,order[0].id,'a rappeler')" type="submit" class="btn btn-primary mr-1 mb-1 waves-effect waves-light">Valider</button>
                                        <button (click)="hideForm()" class="btn btn-outline-warning mr-1 mb-1 waves-effect waves-light">Annuler</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    
    <div class="row match-height" >
        <div class="col-md-6 col-12" [ngStyle]="{'display':showFormRdvValide === true ? 'block' : 'none' }">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Agenda</h4>
                </div>
                <div class="card-content">
                    <div class="card-body">
                    
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-12" [ngStyle]="{'display':showFormRdvValide === true ? 'block' : 'none' }">
            <div class="card">
                <div class="card-header">
                    <h4 class="card-title">Rdv Validé</h4>
                </div>
                <div class="card-content">
                    <div class="card-body">
                        <form class="form form-horizontal">
                            <div class="form-body">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="form-group row">
                                            <div class="col-md-4">
                                                <span>Commentaire</span>
                                            </div>
                                            <div class="col-md-8">
                                                <textarea type="textarea"  class="form-control"  placeholder="Laisser un Commentaire"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                 
                                    <div class="col-md-8 offset-md-4">
                                        <button type="submit" class="btn btn-primary mr-1 mb-1 waves-effect waves-light">Submit</button>
                                        <button (click)="hideForm()" class="btn btn-outline-warning mr-1 mb-1 waves-effect waves-light">Annuler</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    
    </div>


    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="mb-0">Historique des appeles de la mission N° Safti-25478</h4>
                    <div class="btn-group dropdown mr-1 mb-1">
                        <button type="button" class="btn btn-outline-primary dropdown-toggle waves-effect waves-light" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Nouvel appel
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item"    (click)="showForm('valide')" >Rdv Validé par le client</a>
                            <a class="dropdown-item"    (click)="showForm('rappel')">Refus (rappel ou répondeur)</a>
                            <a class="dropdown-item"    (click)="showForm('refus')">Refus Client</a>
                          
                        </div>
                    </div>
                    
                </div>
                <div class="card-content">
                    <div class="table-responsive mt-1">
                        <table class="table table-hover-animation mb-0">
                            <thead>
                                <tr>
                                    <th>N°Appel</th>
                                    <th>Date appel</th>
                                    <th>Statut</th>
                                    <th>Actions</th>
                                  
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#879985</td>
                                    <td><i class="fa fa-circle font-small-3 text-success mr-50"></i>Moving</td>
                                    <td class="p-1">
                                        <ul class="list-unstyled users-list m-0  d-flex align-items-center">
                                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-placement="bottom" data-original-title="Vinnie Mostowy" class="avatar pull-up">
                                                <img class="media-object rounded-circle" src="../../../app-assets/images/portrait/small/avatar-s-5.jpg" alt="Avatar" height="30" width="30">
                                            </li>
                                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-placement="bottom" data-original-title="Elicia Rieske" class="avatar pull-up">
                                                <img class="media-object rounded-circle" src="../../../app-assets/images/portrait/small/avatar-s-7.jpg" alt="Avatar" height="30" width="30">
                                            </li>
                                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-placement="bottom" data-original-title="Julee Rossignol" class="avatar pull-up">
                                                <img class="media-object rounded-circle" src="../../../app-assets/images/portrait/small/avatar-s-10.jpg" alt="Avatar" height="30" width="30">
                                            </li>
                                            <li data-toggle="tooltip" data-popup="tooltip-custom" data-placement="bottom" data-original-title="Darcey Nooner" class="avatar pull-up">
                                                <img class="media-object rounded-circle" src="../../../app-assets/images/portrait/small/avatar-s-8.jpg" alt="Avatar" height="30" width="30">
                                            </li>
                                        </ul>
                                    </td>
                                    <td>Anniston, Alabama</td>
                               
                                </tr>
                               </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</section>